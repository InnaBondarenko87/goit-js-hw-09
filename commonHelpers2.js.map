{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\nconst FEEDBACK_DATA_KEY = 'feedback-form-state';\n\nformEl.addEventListener('input', handleFormElInput);\nformEl.addEventListener('submit', handleFormElSubmit);\n\nlet formData = { email: '', message: '' };\n\nconst initialFormData = localStorage.getItem(FEEDBACK_DATA_KEY);\nif (initialFormData !== null && initialFormData !== '') {\n  try {\n    formData = JSON.parse(initialFormData);\n\n    for (const fieldName in formData) {\n      formEl.elements[fieldName].value = formData[fieldName];\n    }\n  } catch {}\n}\n\nfunction handleFormElInput(e) {\n  const nodeName = e.target.nodeName;\n  if (nodeName === 'INPUT' || nodeName === 'TEXTAREA') {\n    for (const fieldName in formData) {\n      formData[fieldName] = formEl.elements[fieldName].value.trim();\n    }\n\n    localStorage.setItem(FEEDBACK_DATA_KEY, JSON.stringify(formData));\n  }\n}\n\nfunction handleFormElSubmit(e) {\n  e.preventDefault();\n\n  for (const fieldName in formData) {\n    if (!formEl.elements[fieldName].value) {\n      alert('Fill please all fields');\n\n      return;\n    }\n  }\n\n  for (const fieldName in formData) {\n    formData[fieldName] = '';\n    formEl.elements[fieldName].value = '';\n  }\n\n  localStorage.removeItem(FEEDBACK_DATA_KEY);\n\n  console.log(formData);\n}\n"],"names":["formEl","FEEDBACK_DATA_KEY","handleFormElInput","handleFormElSubmit","formData","initialFormData","fieldName","e","nodeName"],"mappings":"oDAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAoB,sBAE1BD,EAAO,iBAAiB,QAASE,CAAiB,EAClDF,EAAO,iBAAiB,SAAUG,CAAkB,EAEpD,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAkB,aAAa,QAAQJ,CAAiB,EAC9D,GAAII,IAAoB,MAAQA,IAAoB,GAClD,GAAI,CACFD,EAAW,KAAK,MAAMC,CAAe,EAErC,UAAWC,KAAaF,EACtBJ,EAAO,SAASM,GAAW,MAAQF,EAASE,EAE/C,MAAC,CAAQ,CAGZ,SAASJ,EAAkBK,EAAG,CAC5B,MAAMC,EAAWD,EAAE,OAAO,SAC1B,GAAIC,IAAa,SAAWA,IAAa,WAAY,CACnD,UAAWF,KAAaF,EACtBA,EAASE,GAAaN,EAAO,SAASM,GAAW,MAAM,OAGzD,aAAa,QAAQL,EAAmB,KAAK,UAAUG,CAAQ,CAAC,CACjE,CACH,CAEA,SAASD,EAAmBI,EAAG,CAC7BA,EAAE,eAAc,EAEhB,UAAWD,KAAaF,EACtB,GAAI,CAACJ,EAAO,SAASM,GAAW,MAAO,CACrC,MAAM,wBAAwB,EAE9B,MACD,CAGH,UAAWA,KAAaF,EACtBA,EAASE,GAAa,GACtBN,EAAO,SAASM,GAAW,MAAQ,GAGrC,aAAa,WAAWL,CAAiB,EAEzC,QAAQ,IAAIG,CAAQ,CACtB"}